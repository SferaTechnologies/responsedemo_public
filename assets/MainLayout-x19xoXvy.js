import{c as R,g as q,i as E,e as w,a as r,h as c,l as P,p as H,b as K,r as d,f as M,j as m,w as O,o as I,k as N,m as U,n as x,q as V,s as L}from"./index-B0PM1wOp.js";import{h as A,a as D}from"./dom-DJzWYw7A.js";import{g as b,Q as G,a as _}from"./QResizeObserver-DEShZq2y.js";const J=R({name:"QPageContainer",setup(t,{slots:h}){const{proxy:{$q:u}}=q(),n=E(P,w);if(n===w)return console.error("QPageContainer needs to be child of QLayout"),w;H(K,!0);const f=r(()=>{const i={};return n.header.space===!0&&(i.paddingTop=`${n.header.size}px`),n.right.space===!0&&(i[`padding${u.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(i.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(i[`padding${u.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),i});return()=>c("div",{class:"q-page-container",style:f.value},A(h.default))}}),X=R({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:h,emit:u}){const{proxy:{$q:n}}=q(),f=d(null),i=d(n.screen.height),p=d(t.container===!0?0:n.screen.width),z=d({position:0,direction:"down",inflectionPoint:0}),v=d(0),a=d(M.value===!0?0:b()),Q=r(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),T=r(()=>t.container===!1?{minHeight:n.screen.height+"px"}:null),F=r(()=>a.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${a.value}px`}:null),W=r(()=>a.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${a.value}px`,width:`calc(100% + ${a.value}px)`}:null);function B(e){if(t.container===!0||document.qScrollPrevented!==!0){const o={position:e.position.top,direction:e.direction,directionChanged:e.directionChanged,inflectionPoint:e.inflectionPoint.top,delta:e.delta.top};z.value=o,t.onScroll!==void 0&&u("scroll",o)}}function k(e){const{height:o,width:s}=e;let l=!1;i.value!==o&&(l=!0,i.value=o,t.onScrollHeight!==void 0&&u("scrollHeight",o),S()),p.value!==s&&(l=!0,p.value=s),l===!0&&t.onResize!==void 0&&u("resize",e)}function j({height:e}){v.value!==e&&(v.value=e,S())}function S(){if(t.container===!0){const e=i.value>v.value?b():0;a.value!==e&&(a.value=e)}}let g=null;const C={instances:{},view:r(()=>t.view),isContainer:r(()=>t.container),rootRef:f,height:i,containerHeight:v,scrollbarWidth:a,totalWidth:r(()=>p.value+a.value),rows:r(()=>{const e=t.view.toLowerCase().split(" ");return{top:e[0].split(""),middle:e[1].split(""),bottom:e[2].split("")}}),header:m({size:0,offset:0,space:!1}),right:m({size:300,offset:0,space:!1}),footer:m({size:0,offset:0,space:!1}),left:m({size:300,offset:0,space:!1}),scroll:z,animate(){g!==null?clearTimeout(g):document.body.classList.add("q-body--layout-animate"),g=setTimeout(()=>{g=null,document.body.classList.remove("q-body--layout-animate")},155)},update(e,o,s){C[e][o]=s}};if(H(P,C),b()>0){let e=function(){l=null,y.classList.remove("hide-scrollbar")},o=function(){if(l===null){if(y.scrollHeight>n.screen.height)return;y.classList.add("hide-scrollbar")}else clearTimeout(l);l=setTimeout(e,300)},s=function($){l!==null&&$==="remove"&&(clearTimeout(l),e()),window[`${$}EventListener`]("resize",o)},l=null;const y=document.body;O(()=>t.container!==!0?"add":"remove",s),t.container!==!0&&s("add"),I(()=>{s("remove")})}return()=>{const e=D(h.default,[c(G,{onScroll:B}),c(_,{onResize:k})]),o=c("div",{class:Q.value,style:T.value,ref:t.container===!0?void 0:f,tabindex:-1},e);return t.container===!0?c("div",{class:"q-layout-container overflow-hidden",ref:f},[c(_,{onResize:j}),c("div",{class:"absolute-full",style:F.value},[c("div",{class:"scroll",style:W.value},[o])])]):o}}}),te={__name:"MainLayout",setup(t){return(h,u)=>{const n=V("router-view");return U(),N(X,{view:"hHh LpR fFf"},{default:x(()=>[L(J,null,{default:x(()=>[L(n)]),_:1})]),_:1})}}};export{te as default};
